<html>
<head>
<title>Encryption - Vernam</title>
<link rel="stylesheet" type="text/css" href="../css/style.css">
<script type="text/javascript">
/*
String.prototype.replaceAt=function(index,character){
	return this.substr(0,index) + character + this.substr(index+character.length);
}*/

function setCharAt(str,index,chr) {
	if(index > str.length-1) return str;
	return str.substr(0,index) + chr + str.substr(index+1);
}

	function encrypt()
	{
		var pt=document.getElementById("plaintext");//.value.toLowerCase();
		var ct=document.getElementById("ciphertext");//.value.toLowerCase();
		var key=document.getElementById("key");
		
		if((!pt.value.length) || !(key.value.length))
		{
			if(!key.value.length)
			{
				alert("Key cannot be empty");
				return false;
			}
			else
			{
				alert("Enter the Plaintext");
				return false;
			}
		}	
		if(!ct.value.length)			//plaintext is given
		{
			if(pt.value.length%2 == 0)
			{
				temp=pt.value;
				for(i=0,j=0;i<parseInt(pt.value.length)-1;i=i+2,j++)
				{
					ct.value=setCharAt(temp,j,temp.charAt(i));
					temp=ct.value;
				}
				for(i=1;i<parseInt(pt.value.length);i=i+2,j++)
				{
					ct.value=setCharAt(ct.value,j,pt.value.charAt(i));
				}
			}
			else
			{
				temp=pt.value;
				for(i=0,j=0;i<parseInt(pt.value.length);i+=2,j++)
				{
					ct.value=setCharAt(temp,j,temp.charAt(i));
					temp=ct.value;
				}
				for(i=1;i<parseInt(pt.value.length)-1;i+=2,j++)
				{
					ct.value=setCharAt(ct.value,j,pt.value.charAt(i));
				}
			}
		return false;
		}
	}
</script>


</head>
<body>
	<h1>Encryption Algorithms</h1>
    <div class="definition">
    <dl>
    	<dt class=title>Vernam Cipher:</dt>
        <ul type="disc"><li>It is a symmetric stream cipher.</li><li>In this method, each character of plaintext is logically XORed with the key.</li><li>If the key is smaller in length than the plaintext, it is repeated again.</li><li>If the key is longer than the plaintext, the extra bits are discarded.</li></ul>
    </dl>
    </div>
   	<form id="input" onSubmit=" return encrypt()">
    <table>
    	<tr>
        	<td>Plaintext: </td>
            <td><input class="typetext" id="plaintext" type="text" maxlength="50" size="75"/></td>
        </tr>
        <tr>
            <td>Key: </td>
            <td><input class="typetext" id="key" type="text" maxlength="50" size="75"/></td>
        </tr>
        <tr>
        	<td>Ciphertext: </td>
            <td><input class="typetext" id="ciphertext" type="text" maxlength="50" size="75"/ disabled></td>
        </tr>
        <tr>
        	<td><input type="submit" value="Encrypt" class="button"></td>
        </tr>
    </table>
    </form>
    
    <a href="enc_rsa.html"><img src="../images/next.png" class="next"></a>
    <a href="../index.html"><img src="../images/home-icon.png" class="home"></a>
    <a href="enc_vernam.html"><img src="../images/back.png" class="back"></a>
    
</body>
</html>